(this["webpackJsonpdiary-image-app"]=this["webpackJsonpdiary-image-app"]||[]).push([[0],[,,,,function(e,t,a){e.exports=a(15)},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(3),r=a.n(l),o=(a(12),a(1));a(13),a(14);var i=function(e){let{isOpen:t,onClose:a,message:n,link:l}=e;return t?s.a.createElement("div",{className:"modal-overlay"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("h2",{className:"modal-title"},"Time to Get Some Help!"),s.a.createElement("p",{className:"modal-message"},n),s.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"modal-link"},"Visit a Psychiatrist"),s.a.createElement("button",{className:"modal-close-button",onClick:a},"Close"))):null};const c=["Anger","Neutral","Fear","Sadness","Surprise","Happiness"],m={Anger:"images/Anger",Neutral:"images/Neutral",Fear:"images/Fear",Sadness:"images/Sadness",Surprise:"images/Surprise",Happiness:"images/Happiness"},u={Anger:10,Neutral:3,Fear:8,Sadness:20,Surprise:8,Happiness:11};function d(e){const t=e.match(/^.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#\&\?]*).*/);return t&&11===t[1].length?t[1]:null}var p=function(){const e=function(){const e=new Date,t=[];for(let a=0;a<=30;a++){const n=new Date(e);n.setDate(e.getDate()-a);const s=n.toISOString().split("T")[0];t.push(s)}return t}(),[t,a]=Object(n.useState)(function(e){return e.reduce((e,t)=>(e[t]={description:"",mood:25,imageUrl:null},e),{})}(e)),[l,r]=Object(n.useState)(e[0]),[p,g]=Object(n.useState)(t[e[0]].description),[h,w]=Object(n.useState)(25),[v,E]=Object(n.useState)(t[e[0]].imageUrl),[y,b]=Object(n.useState)(null),[f,N]=Object(n.useState)(c.reduce((e,t)=>(e[t]=0,e),{})),[S,k]=Object(n.useState)(!1),[M,C]=Object(n.useState)("typing"),[O,j]=Object(n.useState)(!1),U=Object(n.useRef)(null),R=Object(n.useRef)(null),F=Object(n.useRef)(!1),A=e=>{C(e),"speech"===e?(()=>{if(!("webkitSpeechRecognition"in window))return void alert("Speech recognition is not supported in this browser.");const e=new window.webkitSpeechRecognition;e.lang="en-US",e.interimResults=!1,e.onresult=e=>{const t=e.results[0][0].transcript;g(e=>e+" "+t)},e.onerror=e=>{console.error("Speech recognition error:",e.error)},e.onend=()=>{console.log("Speech recognition ended.")},e.start(),U.current=e})():U.current&&U.current.stop(),"draw"===e&&j(!0)};return Object(n.useEffect)(()=>{const e=[{moodRange:[0,16],title:"Angry Music",playlistUrl:"https://www.youtube.com/watch?v=r8OipmKFDeM"},{moodRange:[17,33],title:"Neutral Music",playlistUrl:"https://www.youtube.com/watch?v=CFGLoQIhmow&t=2486s"},{moodRange:[34,50],title:"Fear Music",playlistUrl:"https://www.youtube.com/watch?v=P_tsPLT0irs"},{moodRange:[51,67],title:"Sad Music",playlistUrl:"https://www.youtube.com/watch?v=A_MjCqQoLLA"},{moodRange:[68,84],title:"Surprise Music",playlistUrl:"https://www.youtube.com/watch?v=HQmmM_qwG4k&t=2s"},{moodRange:[85,100],title:"Happy Music",playlistUrl:"https://www.youtube.com/watch?v=ZbZSe6N_BXs"}].find(e=>h>=e.moodRange[0]&&h<=e.moodRange[1]);b(e)},[h]),s.a.createElement("div",{className:"app-layout"},s.a.createElement("div",{className:"sidebar"},s.a.createElement("h2",{className:"sidebar-title"},"Diary AI"),s.a.createElement("ul",{className:"diary-list"},e.map((e,n)=>s.a.createElement("li",{key:e,className:"diary-item "+(e===l?"active":""),onClick:()=>(e=>{a(e=>({...e,[l]:{description:p,mood:h,imageUrl:v}})),r(e),g(t[e].description),w(t[e].mood),E(t[e].imageUrl)})(e)},0===n?"Today":e)))),s.a.createElement("div",{className:"main-content"},s.a.createElement("h1",{className:"main-title"},l,"'s Mood"),s.a.createElement("div",{className:"input-icons"},s.a.createElement(o.a,{className:"input-icon "+("typing"===M?"active":""),title:"Type",onClick:()=>A("typing")}),s.a.createElement(o.b,{className:"input-icon "+("speech"===M?"active":""),title:"Voice to Text",onClick:()=>A("speech")}),s.a.createElement(o.c,{className:"input-icon "+("draw"===M?"active":""),title:"Handwriting",onClick:()=>A("draw")})),s.a.createElement("textarea",{className:"description-input",value:p,onChange:e=>g(e.target.value),placeholder:"Write your description here...",name:"description"}),s.a.createElement("button",{className:"generate-button",name:"generate-button",onClick:()=>{const e=function(e){let t=Math.floor(e/100*c.length);t=100===e||t>=c.length?c.length-1:t;const a=c[t],n=u[a]||1;return`/Moodify-Journal/${m[a]}/image${Math.floor(Math.random()*n)+1}.jpg`}(h);E(e),a(t=>({...t,[l]:{description:p,mood:h,imageUrl:e}})),alert("Entry saved successfully!")}},"Enter"),s.a.createElement("div",{className:"image-display"},v?s.a.createElement("img",{src:v,alt:"Mood",className:"generated-image"}):s.a.createElement("div",{className:"placeholder"},"Your image will appear here")),s.a.createElement("div",{className:"mood-slider-container"},s.a.createElement("div",{className:"mood-labels"},c.map((e,t)=>s.a.createElement("span",{key:t,className:"mood-label"},e))),s.a.createElement("input",{type:"range",min:"0",max:"100",value:h,className:"mood-slider",onChange:e=>w(e.target.value)})),y&&s.a.createElement("div",{className:"music-suggestion"},s.a.createElement("h3",null,"Suggested Playlist: ",y.title),s.a.createElement("a",{href:y.playlistUrl,target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{src:`https://img.youtube.com/vi/${d(y.playlistUrl)}/hqdefault.jpg`,alt:y.title+" playlist",className:"music-thumbnail"}))),s.a.createElement("div",{className:"mood-analysis"},s.a.createElement("h3",null,"Past 14 Days Mood Analysis"),s.a.createElement("ul",null,Object.keys(f).map(e=>s.a.createElement("li",{key:e},e,": ",f[e])))),s.a.createElement(i,{isOpen:S,onClose:()=>k(!1),message:"It seems that you've been feeling fear or sadness for more than 7 days in the past two weeks. Consider talking to a psychiatrist.",link:"https://www.google.com/search?q=%E5%BF%83%E7%90%86%E9%86%AB%E7%94%9F"}),O&&s.a.createElement("div",{className:"drawing-overlay"},s.a.createElement("canvas",{ref:R,className:"drawing-canvas",onMouseDown:e=>{const t=R.current.getContext("2d");t.beginPath(),t.moveTo(e.nativeEvent.offsetX,e.nativeEvent.offsetY),F.current=!0},onMouseMove:e=>{if(!F.current)return;const t=R.current.getContext("2d");t.lineTo(e.nativeEvent.offsetX,e.nativeEvent.offsetY),t.stroke()},onMouseUp:()=>{F.current=!1}}),s.a.createElement("button",{className:"close-drawing",onClick:()=>j(!1)},"Done"))))};var g=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then(t=>{let{getCLS:a,getFID:n,getFCP:s,getLCP:l,getTTFB:r}=t;a(e),n(e),s(e),l(e),r(e)})};r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(p,null)),document.getElementById("root")),g()}],[[4,1,2]]]);
//# sourceMappingURL=main.d83d0996.chunk.js.map