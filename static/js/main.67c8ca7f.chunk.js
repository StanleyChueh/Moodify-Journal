(this["webpackJsonpdiary-image-app"]=this["webpackJsonpdiary-image-app"]||[]).push([[0],[,,,function(e,t,a){e.exports=a(14)},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(0),l=a.n(s),n=a(2),r=a.n(n);a(11),a(12),a(13);var o=function(e){let{isOpen:t,onClose:a,message:s,link:n}=e;return t?l.a.createElement("div",{className:"modal-overlay"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("h2",{className:"modal-title"},"Time to Get Some Help!"),l.a.createElement("p",{className:"modal-message"},s),l.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"modal-link"},"Visit a Psychiatrist"),l.a.createElement("button",{className:"modal-close-button",onClick:a},"Close"))):null};const i=["Anger","Neutral","Fear","Sadness","Surprise","Happiness"],c={Anger:"images/Anger",Neutral:"images/Neutral",Fear:"images/Fear",Sadness:"images/Sadness",Surprise:"images/Surprise",Happiness:"images/Happiness"},m={Anger:10,Neutral:3,Fear:8,Sadness:20,Surprise:8,Happiness:11};var u=function(){const e=function(){const e=new Date,t=[];for(let a=0;a<=30;a++){const s=new Date(e);s.setDate(e.getDate()-a);const l=s.toISOString().split("T")[0];t.push(l)}return t}(),[t,a]=Object(s.useState)(function(e){return e.reduce((e,t)=>(e[t]={description:"",mood:25,imageUrl:null},e),{})}(e)),[n,r]=Object(s.useState)(e[0]),[u,d]=Object(s.useState)(t[e[0]].description),[p,g]=Object(s.useState)(25),[h,y]=Object(s.useState)(t[e[0]].imageUrl),[E,w]=Object(s.useState)(null),[b,f]=Object(s.useState)(S()),[v,N]=Object(s.useState)(!1);function S(){return i.reduce((e,t)=>(e[t]=0,e),{})}return Object(s.useEffect)(()=>{(()=>{const a=e.slice(0,14),s=S();a.forEach(e=>{const a=t[e];if(a){const e=Math.floor(a.mood/(100/i.length)),t=i[e];s[t]++}}),f(s),(s.Fear>7||s.Sadness>7)&&N(!0)})()},[t]),Object(s.useEffect)(()=>{const e=[{moodRange:[0,16],title:"Angry Music",playlistUrl:"https://www.youtube.com/watch?v=r8OipmKFDeM"},{moodRange:[17,33],title:"Neutral Music",playlistUrl:"https://www.youtube.com/watch?v=CFGLoQIhmow&t=2486s"},{moodRange:[34,50],title:"Fear Music",playlistUrl:"https://www.youtube.com/watch?v=P_tsPLT0irs"},{moodRange:[51,67],title:"Sad Music",playlistUrl:"https://www.youtube.com/watch?v=A_MjCqQoLLA"},{moodRange:[68,84],title:"Surprise Music",playlistUrl:"https://www.youtube.com/watch?v=HQmmM_qwG4k&t=2s"},{moodRange:[85,100],title:"Happy Music",playlistUrl:"https://www.youtube.com/watch?v=ZbZSe6N_BXs"}].find(e=>p>=e.moodRange[0]&&p<=e.moodRange[1]);w(e)},[p]),l.a.createElement("div",{className:"app-layout"},l.a.createElement("div",{className:"sidebar"},l.a.createElement("h2",{className:"sidebar-title"},"Diary AI"),l.a.createElement("ul",{className:"diary-list"},e.map((e,s)=>l.a.createElement("li",{key:e,className:"diary-item "+(e===n?"active":""),onClick:()=>(e=>{a(e=>({...e,[n]:{description:u,mood:p,imageUrl:h}})),r(e),d(t[e].description),g(t[e].mood),y(t[e].imageUrl)})(e)},0===s?"Today":e)))),l.a.createElement("div",{className:"main-content"},l.a.createElement("h1",{className:"main-title"},n,"'s Mood"),l.a.createElement("textarea",{className:"description-input",value:u,onChange:e=>d(e.target.value),placeholder:"Write your description here...",name:"description"}),l.a.createElement("button",{className:"generate-button",name:"generate-button",onClick:()=>{const e=function(e){let t=Math.floor(e/100*i.length);(100===e||t>=i.length)&&(t=i.length-1);const a=i[t],s=c[a],l=m[a]||1,n=Math.floor(Math.random()*l)+1;return`/Moodify-Journal/${s}/image${n}.jpg`}(p);y(e),a(t=>({...t,[n]:{description:u,mood:p,imageUrl:e}})),alert("Entry saved successfully!")}},"Enter"),l.a.createElement("div",{className:"image-display"},h?l.a.createElement("img",{src:h,alt:"Mood",className:"generated-image"}):l.a.createElement("div",{className:"placeholder"},"Your image will appear here")),l.a.createElement("div",{className:"mood-slider-container"},l.a.createElement("div",{className:"mood-labels"},i.map((e,t)=>l.a.createElement("span",{key:t,className:"mood-label"},e))),l.a.createElement("input",{type:"range",min:"0",max:"100",value:p,className:"mood-slider",onChange:e=>g(e.target.value)})),E&&l.a.createElement("div",{className:"music-suggestion"},l.a.createElement("h3",null,"Suggested Playlist: ",E.title),l.a.createElement("a",{href:E.playlistUrl,target:"_blank",rel:"noopener noreferrer"},l.a.createElement("img",{src:`https://img.youtube.com/vi/${function(e){const t=e.match(/^.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#\&\?]*).*/);return t&&11===t[1].length?t[1]:null}(E.playlistUrl)}/hqdefault.jpg`,alt:E.title+" playlist",className:"music-thumbnail"}))),l.a.createElement("div",{className:"mood-analysis"},l.a.createElement("h3",null,"Past 14 Days Mood Analysis"),l.a.createElement("ul",null,Object.keys(b).map(e=>l.a.createElement("li",{key:e},e,": ",b[e])))),l.a.createElement(o,{isOpen:v,onClose:()=>N(!1),message:"It seems that you've been feeling fear or sadness for more than 7 days in the past two weeks. Consider talking to a psychiatrist.",link:"https://www.google.com/search?q=%E5%BF%83%E7%90%86%E9%86%AB%E7%94%9F"})))};var d=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,15)).then(t=>{let{getCLS:a,getFID:s,getFCP:l,getLCP:n,getTTFB:r}=t;a(e),s(e),l(e),n(e),r(e)})};r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(u,null)),document.getElementById("root")),d()}],[[3,1,2]]]);
//# sourceMappingURL=main.67c8ca7f.chunk.js.map